<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=320; initial-scale=0.6666; maximum-scale=1.0; minimum-scale=0.6666"></head>
<body>
<script>
function getAuthCode(url){ 
    var error = url.match(/[&\?]error=([^&]+)/); 
    if (error) { 
        throw 'Error getting authorization code: ' + error[1]; 
    } 
    return url.match(/[&\?]code=([\w\/-]+)/)[1];
}
var authCode = getAuthCode(window.location.href);

alert(authCode);

funtion cbb(a,b){
    alert(a+ ' _________ '+b);
}

authenticate(authCode,'cbb');

function authenticate(code, cb) {
    var data = qs.stringify({
        client_id: '2fd86be361ccacaa488c', //your GitHub client_id
        client_secret: '2076edd6829b03c88563a547dd64b24f9d8dd377',  //and secret
       code: code   //the access code we parsed earlier
    });

    var reqOptions = {
        host: 'github.com',
        port: '443',
        path: '/login/oauth/access_token',
        method: 'POST',
        headers: { 'content-length': data.length }
    };

    var body = '';
    var req = https.request(reqOptions, function(res) {
        res.setEncoding('utf8');
        res.on('data', function (chunk) { body += chunk; });
        res.on('end', function() {
            cb(null, qs.parse(body).access_token);
        });
    });

    req.write(data);
    req.end();
    req.on('error', function(e) { cb(e.message); });
}
</script>
</body>
</html>
